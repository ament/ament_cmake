# generated from ament_cmake_environment_hooks/cmake/environment/local_setup.sh.in

# since this file is sourced either use the provided AMENT_CURRENT_PREFIX
# or fall back to the destination set at configure time
: ${AMENT_CURRENT_PREFIX:=@CMAKE_INSTALL_PREFIX@}

# function to prepend non-duplicate values to environment variables
# using colons as separators and avoiding trailing separators
ament_cmake_environment_prepend_unique_value() {
  # arguments
  _listname=$1
  _value=$2
  #echo "listname $_listname"
  #eval echo "list value \$$_listname"
  #echo "value $_value"

  # check if the list contains the value
  eval _values=\$$_listname
  _duplicate=
  _IFS=$IFS
  IFS=":"
  for _item in $_values; do
    # ignore empty strings
    if [ -z "$_item" ]; then
      continue
    fi
    if [ $_item = $_value ]; then
      _duplicate=1
    fi
  done
  unset _item
  IFS=$_IFS
  unset _IFS

  # prepend only non-duplicates
  if [ -z "$_duplicate" ]; then
    # avoid trailing separator
    if [ -z "$_values" ]; then
      eval export $_listname=$_value
      #eval echo "set list \$$_listname"
    else
      eval export $_listname=$_value:\$$_listname
      #eval echo "prepend list \$$_listname"
    fi
  fi
  unset _duplicate
  unset _values

  unset _value
  unset _listname
}

# source all .sh environment hooks of this package
@SOURCE_HOOKS@
